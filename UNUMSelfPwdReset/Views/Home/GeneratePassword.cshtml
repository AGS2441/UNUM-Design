@{
    ViewData["Title"] = "Home Page";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@model GenerateResponce

<div class="row mt-5">

    <div class="alert alert-tra">


        <span class="float-start h-img">
            <svg fill="#19557f" width="40" class="h-svg" font-weight="600" height="40" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path d="M800 384h-32V261.872C768 115.024 661.744 0 510.816 0 359.28 0 256 117.472 256 261.872V384h-32c-70.592 0-128 57.408-128 128v384c0 70.592 57.408 128 128 128h576c70.592 0 128-57.408 128-128V512c0-70.592-57.408-128-128-128zM320 261.872C320 152.784 394.56 64 510.816 64 625.872 64 704 150.912 704 261.872V384H320V261.872zM864.001 896c0 35.28-28.72 64-64 64h-576c-35.28 0-64-28.72-64-64V512c0-35.28 28.72-64 64-64h576c35.28 0 64 28.72 64 64v384zm-352-320c-35.344 0-64 28.656-64 64 0 23.632 12.96 44.032 32 55.12V800c0 17.664 14.336 32 32 32s32-14.336 32-32V695.12c19.04-11.088 32-31.504 32-55.12 0-35.344-28.656-64-64-64z" /></svg>
        </span>

        <div class="hrl">
            <strong style="font:xx-large" class="float-start f-24">Generate Temporary Password</strong>

        </div>
    </div>

</div>
<div class="cont">
    <div class="row">
        <div class="res">
            <div class="alert alert-secondary col-md-12">
                <div class="ts-h col-md-12 float-start">
                    <div class="ts float-start">
                        <svg class="svg-primary" xmlns="http://www.w3.org/2000/svg" height="2.5rem" viewBox="0 0 24 24" width="2.5rem" fill="#00428c">
                            <path d="M0 0h24v24H0z" fill="none">

                            </path>
                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"></path>
                        </svg>
                    </div>
                    <strong>
                        The temporary password below will be used in next step to change your password to one you choose to use for the next 90 days.

                        @*You cannot use this temporary password as a new password; it’s only for
                        changing the password. Once you’ve changed the password using the
                        temporary password, you'll have to wait for 24 hours before being able to
                        change it again.*@
                    </strong>
                    <strong>
                        Please note your password will not be able to be changed again for 24 hours.
                    </strong>
                </div>

            </div>
        </div>
    </div>
    <div class="container bg-r">

        <div>

            <div class="row" style="justify-content:center;">
                <div class="modal-header p-res" style="margin:0;">

                    <div class="col-md-1 pull-left" style="padding-right: 0;">
                        @*<span class="float-end h-img bg-theme">  <span class="f-26 semi-bold" style="color:#fff;padding: 9px 14px;">1</span></span>*@

                    </div>
                    <div class="col-md-11 pull-right text-left" style="padding-left: 0;padding-top: 6px;">
                        <label class="f-26 col-md-12 semi-bold">Copy Generated Temporary Password</label>
                        <label class="fs-16 col-md-12"><b>Please copy</b> the temporary password.</label>
                    </div>

                </div>
                <div class="modal-body p-res">
                    <div class="row">
                        <div class="col-md-1"></div>
                        <div class="col-md-10 form-group">
                            
                            <input asp-for="TempPassword" type="text" class="form-control col-md-4 copyTemp" style="width:90%;margin-left: 1rem;" readonly />
                            <a class="password-showhide copyval form-control" id="copytextnew" >
                                <span class="i-img"><i class="fa-solid fa-copy"></i></span>
                            </a>
                            <span class="t-t h-b">Password copied!</span>
                        </div>
                    </div>
                </div>
                @* <div class="modal-header">

                <div class="col-md-1 pull-left" style="padding-right: 0;">
                <span class="float-end h-img bg-theme">  <span class="f-26 semi-bold" style="color:#fff;padding: 9px 14px;">2</span></span>

                </div>
                <div class="col-md-11 pull-right text-left" style="padding-left: 0;padding-top: 6px;">
                <label class="fs-16 col-md-12 semi-bold">Change Password</label>
                <label class="fs-14 col-md-12">You will be redirected to a website where you can change your password. The system will enforce the password to be changed at that time.</label>
                </div>

                </div>*@
            </div>
            <div class="row pt-2">
                <div class="col-md-12" style="border: none;justify-content:end;display:flex;">
                    <a class="btn btn-bl update-button" data-bs-target="#mdlchangepassword" data-bs-toggle="modal" id="change">
                        <i class="fa-solid fa-unlock-keyhole mr-2"></i>  <span>Redirect for Password Change</span>
                    </a>
                </div>
            </div>
        </div>

    </div>
    <footer>
        <div class="row text-start">
            <div class="col-md-12 col-sm-12">
                <a asp-action="Index" class="fs-14 btn-a"><i class="fa fa-chevron-left" aria-hidden="true"></i> Back</a>
            </div>
        </div>
    </footer>
</div>


@section scripts{
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script type="text/javascript">
        // $(document).on('click', '.copyval', function () {
        $('#copytextnewxxxxxx').click(function () {
            // Get the text field
            var copyText = $(".copyTemp").val();
            // Select the text field
            var $temp = $("< input >");
            $("body").append($temp);
            $temp.val($("#TempPassword").val()).select();
            document.execCommand("copy");
            $temp.remove();

        });
        $(document).ready(function () {
            $('a').tooltip({

                disabled: true
            });
        });

        function copyToClipboard(text) {

            var textArea = document.createElement("textarea");
            textArea.value = text;
            document.body.appendChild(textArea);
            textArea.select();

            try {
                var successful = document.execCommand('copy');
                var msg = successful ? 'successful' : 'unsuccessful';
                console.log('Copying text command was ' + msg);
            } catch (err) {
                console.log('Oops, unable to copy', err);
            }
            document.body.removeChild(textArea);
        }
        $('#copytextnew').click(function () {
            debugger
            var clipboardText = "";
            clipboardText = $('.copyTemp').val();
            copyToClipboard(clipboardText);
            $(".t-t").removeClass("h-b");
            setTimeout(function () {
                $(".t-t").addClass("h-b");
            }, 2000);
            //alert( "Copied to Clipboard" );
        });
        $(document).on('click', '#change', function (e) {
            $("#global-loader").hide();
        });

    </script>
}